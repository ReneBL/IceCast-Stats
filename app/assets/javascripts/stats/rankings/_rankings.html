<!--
IceCast-Stats is system for statistics generation and analysis
for an IceCast streaming server
Copyright (C) 2015  René Balay Lorenzo <rene.bl89@gmail.com>

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
-->

<div class="container">
	<div id="rankingPais" class="panel panel-primary" ng-controller="CountryRanking">
		<div class="panel-heading">Ranking de países</div>
  		<table class="table table-striped">
    		<tr>
    			<th>#</th>
    			<th>País</th>
    			<th>Tiempo total de escucha</th>
                <th>Bytes consumidos</th>
                <th>Oyentes totales</th>
    		</tr>
    		<tr id="tableRow" ng-repeat="row in data">
    			<td ng-model="startIndex">{{(startIndex + $index) + 1}}</td>
    			<td>{{row._id}}</td>
    			<td>{{row.time | secondsFilter}}</td>
                <td>{{row.bytes | bytesFilter:2}}</td>
                <td>{{row.listeners}}</td>
    		</tr>
  		</table>
  		<div id="templateBotonera" ng-include="'_botonera.html'"></div>
	</div>
	<div id="rankingRegion" class="panel panel-primary" ng-controller="RegionRanking">
		<div class="panel-heading">Ranking de regiones</div>
  		<table class="table table-striped">
    		<tr>
    			<th>#</th>
    			<th>Región</th>
                <th>Tiempo total de escucha</th>
                <th>Bytes consumidos</th>
    			<th>Oyentes totales</th>
    		</tr>
    		<tr id="tableRow" ng-repeat="row in data">
    			<td ng-model="startIndex">{{(startIndex + $index) + 1}}</td>
    			<td>{{row._id.region}}, {{row._id.country}}</td>
    			<td>{{row.time | secondsFilter}}</td>
                <td>{{row.bytes | bytesFilter:2}}</td>
                <td>{{row.listeners}}</td>
    		</tr>
  		</table>
  		<span id="templateBotonera" ng-include="'_botonera.html'"></span>
	</div>
    <div id="rankingCity" class="panel panel-primary" ng-controller="CityRanking">
        <div class="panel-heading">Ranking de ciudades</div>
        <table class="table table-striped">
            <tr>
                <th>#</th>
                <th>Ciudad</th>
                <th>Tiempo total de escucha</th>
                <th>Bytes consumidos</th>
                <th>Oyentes totales</th>
            </tr>
            <tr id="tableRow" ng-repeat="row in data">
                <td ng-model="startIndex">{{(startIndex + $index) + 1}}</td>
                <td>{{row._id.city}}, {{row._id.region}}, {{row._id.country}}</td>
                <td>{{row.time | secondsFilter}}</td>
                <td>{{row.bytes | bytesFilter:2}}</td>
                <td>{{row.listeners}}</td>
            </tr>
        </table>
        <span id="templateBotonera" ng-include="'_botonera.html'"></span>
    </div>
    <div id="userAgentCity" class="panel panel-primary" ng-controller="UserAgentRanking">
        <div class="panel-heading">Ranking de agentes de usuario</div>
        <table class="table table-striped">
            <tr>
                <th>#</th>
                <th>Agente</th>
                <th>Tiempo total de escucha</th>
                <th>Bytes consumidos</th>
                <th>Veces usado</th>
            </tr>
            <tr id="tableRow" ng-repeat="row in data">
                <td ng-model="startIndex">{{(startIndex + $index) + 1}}</td>
                <td>{{row._id}}</td>
                <td>{{row.time | secondsFilter}}</td>
                <td>{{row.bytes | bytesFilter:2}}</td>
                <td>{{row.listeners}}</td>
            </tr>
        </table>
        <span id="templateBotonera" ng-include="'_botonera.html'"></span>
    </div>
    <div id="rankingLinks" class="panel panel-primary" ng-controller="LinksRanking">
        <div class="panel-heading" ng-model="count">Top {{count}} de links enlace</div>
        <table class="table table-striped">
            <tr>
                <th>#</th>
                <th>Link</th>
                <th>Tiempo total de escucha</th>
                <th>Bytes consumidos</th>
                <th>Veces usado</th>
            </tr>
            <tr id="tableRow" ng-repeat="row in data">
                <td ng-model="startIndex">{{(startIndex + $index) + 1}}</td>
                <td>{{row._id}}</td>
                <td>{{row.time | secondsFilter}}</td>
                <td>{{row.bytes | bytesFilter:2}}</td>
                <td>{{row.listeners}}</td>
            </tr>
        </table>
    </div>
</div>
