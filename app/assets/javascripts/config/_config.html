<!--
IceCast-Stats is system for statistics generation and analysis
for an IceCast streaming server
Copyright (C) 2015  René Balay Lorenzo <rene.bl89@gmail.com>

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
-->

<div class="container" ng-controller="ConfigurationController">
	<h1 class="text-center">Configuración del sistema</h1>
	<div class="panel panel-default">
  		<div class="panel-heading">
    		<h3 class="panel-title">Parámetros</h3>
  		</div>
  		<span class="list-group-item">
  			<label>
				Filtrar en base a
				<select id="comboSources" ng-model="source" ng-options="source for source in sources">
				</select>
			</label>
  		</span>
  		<span class="list-group-item">
  			<form name="refreshForm">
				<div id="configRefresh">
					<label ng-class="{true: 'hint--top hint--error hint--always hint--bounce', false: undefined}[refreshForm.inputRefreshSeconds.$error.required || !refreshForm.inputRefreshSeconds.$valid]" ng-attr-data-hint="{{(refreshForm.inputRefreshSeconds.$error.required || !refreshForm.inputRefreshSeconds.$valid) ? 'Tasa de refresco no válida (1..60)' : undefined}}">
					Tasa de refresco de estadísticas en tiempo real (en segundos):
					</label>
					<input class="form-control" type="number" name="inputRefreshSeconds" ng-model="refreshSeconds"
					ng-change="setRefreshSeconds(refreshForm.$valid)" min="1" max="60" required>
				</div>
			</form>
  		</span>
  		<span class="list-group-item">
  			<form name="refreshListenersForm">
				<div id="configRefresh">
					<label ng-class="{true: 'hint--top hint--error hint--always hint--bounce', false: undefined}[refreshListenersForm.inputRefreshMinutes.$error.required || !refreshListenersForm.inputRefreshMinutes.$valid]" ng-attr-data-hint="{{(refreshListenersForm.inputRefreshMinutes.$error.required || !refreshListenersForm.inputRefreshMinutes.$valid) ? 'Tasa de refresco no válida (mínimo 1 minuto)' : undefined}}">
					Tasa de refresco de oyentes en las últimas horas (en minutos): 
					</label>
					<input class="form-control" type="number" name="inputRefreshMinutes" ng-model="refreshMinutes"
					ng-change="setRefreshMinutes(refreshListenersForm.$valid)" min="1" required>
				</div>
			</form>
  		</span>
  		<span class="list-group-item">
  			<form name="serverForm">
				<div id="configServer">
					<label ng-class="{true: 'hint--top hint--error hint--always hint--bounce', false: undefined}[serverForm.inputServer.$error.required || !serverForm.inputServer.$valid]" ng-attr-data-hint="{{(serverForm.inputServer.$error.required || !serverForm.inputServer.$valid) ? 'Dirección URL no válida' : undefined}}">
					Dirección del servidor IceCast:
					</label>
					<input class="form-control" type="url" name="inputServer" ng-model="server" ng-change="setServer(serverForm.$valid)" required>
				</div>
			</form>
  		</span>
	</div>
</div>
